"use strict";(self["webpackChunkquasar_x6_editor"]=self["webpackChunkquasar_x6_editor"]||[]).push([[976],{976:(e,t,l)=>{l.r(t),l.d(t,{default:()=>tl});var a=l(3673);function o(e,t,l,o,s,n){const i=(0,a.up)("X6Editor");return(0,a.wg)(),(0,a.j4)(i)}const s=(0,a.Uk)("查看"),n=(0,a.Uk)("配置"),i=(0,a.Uk)("删除"),d=(0,a.Uk)("删除"),r=(0,a.Uk)("撤销"),c=(0,a.Uk)("重做"),u=(0,a.Uk)("查看"),p=(0,a.Uk)("导出"),m=(0,a.Uk)("更多"),f=(0,a.Uk)("清空");function w(e,t,l,o,w,g){const h=(0,a.up)("LeftDrawer"),v=(0,a.up)("RightDrawer"),k=(0,a.up)("q-item-section"),b=(0,a.up)("q-item"),_=(0,a.up)("q-separator"),y=(0,a.up)("q-list"),x=(0,a.up)("q-icon"),C=(0,a.up)("q-menu"),W=(0,a.up)("q-page"),q=(0,a.up)("ToolBar"),D=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(h,{showLeftDrawer:e.showLeftDrawer},null,8,["showLeftDrawer"]),(0,a.Wm)(v,{ref:"rightDrawer",showRightDrawer:e.showRightDrawer},null,8,["showRightDrawer"]),(0,a.Wm)(W,{id:"container"},{default:(0,a.w5)((()=>[(0,a.Wm)(C,{"touch-position":"","context-menu":""},{default:(0,a.w5)((()=>["node"==e.choiceType?((0,a.wg)(),(0,a.j4)(y,{key:0,dense:"",style:{"min-width":"100px"}},{default:(0,a.w5)((()=>[(0,a.wy)(((0,a.wg)(),(0,a.j4)(b,{clickable:""},{default:(0,a.w5)((()=>[(0,a.Wm)(k,{onClick:e.showNode},{default:(0,a.w5)((()=>[s])),_:1},8,["onClick"])])),_:1})),[[D]]),(0,a.wy)(((0,a.wg)(),(0,a.j4)(b,{clickable:""},{default:(0,a.w5)((()=>[(0,a.Wm)(k,{onClick:e.nodeSetting},{default:(0,a.w5)((()=>[n])),_:1},8,["onClick"])])),_:1})),[[D]]),(0,a.Wm)(_),(0,a.wy)(((0,a.wg)(),(0,a.j4)(b,{clickable:""},{default:(0,a.w5)((()=>[(0,a.Wm)(k,{onClick:e.deleteNode},{default:(0,a.w5)((()=>[i])),_:1},8,["onClick"])])),_:1})),[[D]])])),_:1})):(0,a.kq)("",!0),"edge"==e.choiceType?((0,a.wg)(),(0,a.j4)(y,{key:1,dense:"",style:{"min-width":"100px"}},{default:(0,a.w5)((()=>[(0,a.wy)(((0,a.wg)(),(0,a.j4)(b,{clickable:""},{default:(0,a.w5)((()=>[(0,a.Wm)(k,{onClick:e.deleteEdge},{default:(0,a.w5)((()=>[d])),_:1},8,["onClick"])])),_:1})),[[D]])])),_:1})):(0,a.kq)("",!0),"blank"==e.choiceType?((0,a.wg)(),(0,a.j4)(y,{key:2,dense:"",style:{"min-width":"100px"}},{default:(0,a.w5)((()=>[(0,a.wy)(((0,a.wg)(),(0,a.j4)(b,{clickable:""},{default:(0,a.w5)((()=>[(0,a.Wm)(k,{onClick:e.undo},{default:(0,a.w5)((()=>[r])),_:1},8,["onClick"])])),_:1})),[[D]]),(0,a.wy)(((0,a.wg)(),(0,a.j4)(b,{clickable:""},{default:(0,a.w5)((()=>[(0,a.Wm)(k,{onClick:e.redo},{default:(0,a.w5)((()=>[c])),_:1},8,["onClick"])])),_:1})),[[D]]),(0,a.Wm)(_),(0,a.wy)(((0,a.wg)(),(0,a.j4)(b,{clickable:""},{default:(0,a.w5)((()=>[(0,a.Wm)(k,{onClick:e.showData},{default:(0,a.w5)((()=>[u])),_:1},8,["onClick"])])),_:1})),[[D]]),(0,a.wy)(((0,a.wg)(),(0,a.j4)(b,{clickable:""},{default:(0,a.w5)((()=>[(0,a.Wm)(k,{onClick:e.downloadData},{default:(0,a.w5)((()=>[p])),_:1},8,["onClick"])])),_:1})),[[D]]),(0,a.Wm)(_),(0,a.Wm)(b,{clickable:""},{default:(0,a.w5)((()=>[(0,a.Wm)(k,null,{default:(0,a.w5)((()=>[m])),_:1}),(0,a.Wm)(k,{side:""},{default:(0,a.w5)((()=>[(0,a.Wm)(x,{name:"keyboard_arrow_right"})])),_:1}),(0,a.Wm)(C,{anchor:"top end",self:"top start"},{default:(0,a.w5)((()=>[(0,a.Wm)(y,{dense:"",style:{"min-width":"100px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(b,{clickable:""},{default:(0,a.w5)((()=>[(0,a.Wm)(k,{onClick:e.refresh},{default:(0,a.w5)((()=>[f])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})):(0,a.kq)("",!0)])),_:1})])),_:1}),(0,a.Wm)(q,{zoom:e.zoom},null,8,["zoom"])])}var g=l(2623),h=l(4921),v=l(8825),k=l(1959),b=l(2323);const _={id:"toolbar",class:"row items-center"},y=(0,a.Uk)(" 撤销 "),x=(0,a.Uk)(" 重做 "),C={class:"q-ml-sm",style:{"min-width":"40px"}},W=(0,a.Uk)(" 放大 (Ctrl + 滚轮向上) "),q=(0,a.Uk)(" 缩小 (Ctrl + 滚轮向下) "),D=(0,a.Uk)(" 居中 "),z=(0,a.Uk)(" 显示网点 "),U=(0,a.Uk)(" 查看 json "),T=(0,a.Uk)(" 导出 json "),N=(0,a.Uk)(" 运行 ");function S(e,t,l,o,s,n){const i=(0,a.up)("q-tooltip"),d=(0,a.up)("q-btn"),r=(0,a.up)("q-separator");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",_,[(0,a.Wm)(d,{flat:"",dense:"",icon:"undo",onClick:o.undo,class:"q-ml-auto"},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{offset:[8,8]},{default:(0,a.w5)((()=>[y])),_:1})])),_:1},8,["onClick"]),(0,a.Wm)(d,{flat:"",dense:"",icon:"redo",onClick:o.redo,class:"q-ml-xs"},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{offset:[8,8]},{default:(0,a.w5)((()=>[x])),_:1})])),_:1},8,["onClick"]),(0,a.Wm)(r,{vertical:"",inset:"",class:"q-ml-xs"}),(0,a._)("div",C,(0,b.zw)(l.zoom)+"%",1),(0,a.Wm)(d,{flat:"",dense:"",icon:"zoom_in",onClick:o.zoomIn,class:"q-ml-xs"},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{offset:[8,8]},{default:(0,a.w5)((()=>[W])),_:1})])),_:1},8,["onClick"]),(0,a.Wm)(d,{flat:"",dense:"",icon:"zoom_out",onClick:o.zoomOut,class:"q-ml-xs"},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{offset:[8,8]},{default:(0,a.w5)((()=>[q])),_:1})])),_:1},8,["onClick"]),(0,a.Wm)(r,{vertical:"",inset:"",class:"q-ml-xs"}),(0,a.Wm)(d,{flat:"",dense:"",icon:"center_focus_weak",onClick:o.centerContent,class:"q-ml-xs"},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{offset:[8,8]},{default:(0,a.w5)((()=>[D])),_:1})])),_:1},8,["onClick"]),(0,a.Wm)(d,{flat:"",dense:"",icon:"grid_4x4",onClick:o.shGird,class:"q-ml-xs"},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{offset:[8,8]},{default:(0,a.w5)((()=>[z])),_:1})])),_:1},8,["onClick"]),(0,a.Wm)(r,{vertical:"",inset:"",class:"q-ml-xs"}),(0,a.Wm)(d,{flat:"",dense:"",icon:"visibility",onClick:o.showData,class:"q-ml-xs"},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{offset:[8,8]},{default:(0,a.w5)((()=>[U])),_:1})])),_:1},8,["onClick"]),(0,a.Wm)(d,{flat:"",dense:"",icon:"download",onClick:o.downloadData,class:"q-ml-xs"},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{offset:[8,8]},{default:(0,a.w5)((()=>[T])),_:1})])),_:1},8,["onClick"]),(0,a.Wm)(r,{vertical:"",inset:"",class:"q-ml-xs"}),(0,a.Wm)(d,{flat:"",dense:"",color:"primary",icon:"directions_run",onClick:o.runWorkFlow,class:"q-ml-xs"},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{offset:[8,8]},{default:(0,a.w5)((()=>[N])),_:1})])),_:1},8,["onClick"])])])}const Z={props:{zoom:{type:Number}},setup(){const e=(0,a.FN)(),t=()=>{e.parent.ctx.undo()},l=()=>{e.parent.ctx.redo()},o=()=>{e.parent.ctx.zoomIn()},s=()=>{e.parent.ctx.zoomOut()},n=()=>{e.parent.ctx.centerContent()},i=()=>{e.parent.ctx.shGird()},d=()=>{e.parent.ctx.showData()},r=()=>{e.parent.ctx.downloadData()},c=()=>{e.parent.ctx.runWorkFlow()};return{undo:t,redo:l,zoomIn:o,zoomOut:s,centerContent:n,shGird:i,showData:d,downloadData:r,runWorkFlow:c}}};var V=l(4260),F=l(8240),M=l(8870),L=l(5869),R=l(7518),H=l.n(R);const I=(0,V.Z)(Z,[["render",S]]),Q=I;H()(Z,"components",{QBtn:F.Z,QTooltip:M.Z,QSeparator:L.Z});const j=e=>((0,a.dD)("data-v-29a30ab2"),e=e(),(0,a.Cn)(),e),B=j((()=>(0,a._)("div",{id:"titleBar"},"组件库",-1))),E={class:"q-pa-md"},O={key:0,class:"row items-center node-label"},A=["onMousedown"],J={class:"center"},P=j((()=>(0,a._)("div",{class:"right-side"},[(0,a._)("svg",{t:"1642577466654",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"14516",width:"16",height:"16"},[(0,a._)("path",{d:"M682.666667 0v256h256l-256-256z m-85.333334 0H170.666667a85.333333 85.333333 0 0 0-85.333334 85.333333v853.333334a85.333333 85.333333 0 0 0 85.333334 85.333333h682.666666a85.333333 85.333333 0 0 0 85.333334-85.333333V341.333333h-341.333334V0z m7.168 514.517333a42.666667 42.666667 0 1 1 70.997334 47.36L481.152 853.333333l-163.498667-109.013333a42.666667 42.666667 0 1 1 47.36-70.997333l92.501334 61.653333 146.986666-220.458667z","p-id":"14517",fill:"#666666"})])],-1))),$={class:"row"},G=j((()=>(0,a._)("div",{class:"col-3 text-"},[(0,a._)("strong",null,"externalId：")],-1))),X={class:"col-9"},K={class:"row"},Y=j((()=>(0,a._)("div",{class:"col-3"},[(0,a._)("strong",null,"cpuCores：")],-1))),ee={class:"col-9"},te={class:"row"},le=j((()=>(0,a._)("div",{class:"col-3"},[(0,a._)("strong",null,"appUseCase：")],-1))),ae={class:"col-9"},oe={class:"row"},se=j((()=>(0,a._)("div",{class:"col-3"},[(0,a._)("strong",null,"name：")],-1))),ne={class:"col-9"},ie={class:"row"},de=j((()=>(0,a._)("div",{class:"col-3"},[(0,a._)("strong",null,"status：")],-1))),re={class:"col-9"},ce={class:"q-mini-drawer-hide absolute",style:{top:"50%",right:"-48px"}},ue={class:"q-mini-drawer-hide absolute",style:{top:"50%",left:"8px"}};function pe(e,t,l,o,s,n){const i=(0,a.up)("q-icon"),d=(0,a.up)("q-input"),r=(0,a.up)("q-tooltip"),c=(0,a.up)("q-tree"),u=(0,a.up)("q-btn"),p=(0,a.up)("q-drawer");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(p,{id:"leftDrawer",modelValue:o.showLeftDrawerCom,"onUpdate:modelValue":t[1]||(t[1]=e=>o.showLeftDrawerCom=e),"show-if-above":"",width:300,side:"left"},{default:(0,a.w5)((()=>[B,(0,a._)("div",E,[(0,a.Wm)(d,{outlined:"",dense:"",ref:"filterRef",modelValue:o.filter,"onUpdate:modelValue":t[0]||(t[0]=e=>o.filter=e)},{prepend:(0,a.w5)((()=>[(0,a.Wm)(i,{name:"search"})])),append:(0,a.w5)((()=>[""!==o.filter?((0,a.wg)(),(0,a.j4)(i,{key:0,name:"clear",class:"cursor-pointer",onClick:o.resetFilter},null,8,["onClick"])):(0,a.kq)("",!0)])),_:1},8,["modelValue"]),(0,a.Wm)(c,{nodes:o.nodeList,"node-key":"id",filter:o.filter,"filter-method":o.filterMethod,"no-nodes-label":"没有节点数据！","no-results-label":"没有找到相关节点！","default-expand-all":"",class:"q-pt-sm"},{"default-header":(0,a.w5)((e=>[e.node.icon?((0,a.wg)(),(0,a.iD)("div",O,[(0,a.Wm)(i,{name:e.node.icon,color:"primary",class:"q-mr-sm"},null,8,["name"]),(0,a._)("div",null,(0,b.zw)(e.node.data.name),1)])):((0,a.wg)(),(0,a.iD)("div",{key:1,class:"node",style:{cursor:"move"},onMousedown:t=>o.startDrag(t,e)},[(0,a._)("div",J,(0,b.zw)(e.node.data.name),1),P,(0,a.Wm)(r,{anchor:"center right",self:"center left",offset:[10,10]},{default:(0,a.w5)((()=>[(0,a._)("div",$,[G,(0,a._)("div",X,(0,b.zw)(e.node.id),1)]),(0,a._)("div",K,[Y,(0,a._)("div",ee,(0,b.zw)(e.node.data.cpuCores),1)]),(0,a._)("div",te,[le,(0,a._)("div",ae,(0,b.zw)(e.node.data.appUseCase),1)]),(0,a._)("div",oe,[se,(0,a._)("div",ne,(0,b.zw)(e.node.data.name),1)]),(0,a._)("div",ie,[de,(0,a._)("div",re,(0,b.zw)(e.node.data.status),1)])])),_:2},1024)],40,A))])),_:1},8,["nodes","filter","filter-method"])]),(0,a._)("div",ce,[(0,a.Wm)(u,{round:"","text-color":"grey-7",elevated:"",icon:"chevron_left",onClick:o.shLeftDrawer,style:{"z-index":"1"},class:"float-button"},null,8,["onClick"])])])),_:1},8,["modelValue"]),(0,a._)("div",ue,[(0,a.Wm)(u,{round:"","text-color":"grey-7",elevated:"",icon:"chevron_right",onClick:o.shLeftDrawer,style:{"z-index":"1","margin-top":"25px"},class:"float-button"},null,8,["onClick"])])])}const me={props:{showLeftDrawer:{type:Boolean}},setup(e){const t=(0,a.FN)(),l={groups:{top:{position:"top",attrs:{circle:{r:4,magnet:!0,stroke:"#c2c8d5",strokeWidth:1.5,fill:"#fff"}}},bottom:{position:"bottom",attrs:{circle:{r:4,magnet:!0,stroke:"#c2c8d5",strokeWidth:1.5,fill:"#fff"}}}},items:[{group:"top"},{group:"bottom"}]},o=(0,k.iH)([{id:"Simulation",data:{name:"Simulation脚本"},icon:"flag",children:[{id:"Simulation1",shape:"default-node",data:{name:"Simulation1脚本",cpuCores:"4",appUseCase:"ab08ad37-055b-b368-58aa-037620228cf8",status:"default"},ports:{...l}},{id:"Simulation2",shape:"default-node",data:{name:"Simulation2脚本",cpuCores:"4",appUseCase:"f30223f0-a215-4402-38ba-067a917b095d",status:"default"},ports:{...l}},{id:"Simulation3",shape:"default-node",data:{name:"Simulation3脚本",cpuCores:"4",appUseCase:"c0121580-1097-418f-14be-170e474fb8d3",status:"default"},ports:{...l}},{id:"Simulation4",shape:"default-node",data:{name:"Simulation4脚本",cpuCores:"4",appUseCase:"f4f1357b-1bfc-6797-5030-b9822d910e73",status:"default"},ports:{...l}}]},{id:"Tool",data:{name:"Tool工具"},icon:"construction",children:[{id:"Tool1",shape:"default-node",data:{name:"Tool1工具",cpuCores:"4",appUseCase:"79737114-e574-8956-bd45-8cf3b9fc8c88",status:"default"},ports:{...l}},{id:"Tool2",shape:"default-node",data:{name:"Tool2工具",cpuCores:"4",appUseCase:"75ca097e-b868-4250-885b-138a824f4982",status:"default"},ports:{...l}},{id:"Tool3",shape:"default-node",data:{name:"Tool3工具",cpuCores:"4",appUseCase:"cec670a0-f6af-916f-7a52-ec9cbd102a9a",status:"default"},ports:{...l}}]}]),s=(0,k.iH)(""),n=(0,k.iH)(null),i=(e,l)=>{t.parent.ctx.startDrag(e,l)},d=(0,a.Fl)((()=>e.showLeftDrawer)),r=()=>{t.parent.ctx.shLeftDrawer()},c=(e,t)=>-1!==e.data.name.indexOf(t);return{shLeftDrawer:r,showLeftDrawerCom:d,nodeList:o,filter:s,filterRef:n,resetFilter(){s.value="",n.value.focus()},startDrag:i,filterMethod:c}}};var fe=l(2901),we=l(4842),ge=l(4554),he=l(5551);const ve=(0,V.Z)(me,[["render",pe],["__scopeId","data-v-29a30ab2"]]),ke=ve;H()(me,"components",{QDrawer:fe.Z,QInput:we.Z,QIcon:ge.Z,QTree:he.Z,QTooltip:M.Z,QBtn:F.Z});const be={class:"q-mini-drawer-hide absolute",style:{top:"50%",left:"-48px"}},_e={class:"q-mini-drawer-hide absolute",style:{top:"50%",right:"8px"}};function ye(e,t,l,o,s,n){const i=(0,a.up)("q-btn"),d=(0,a.up)("EditPanel"),r=(0,a.up)("MiniMap"),c=(0,a.up)("q-drawer");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(c,{id:"rightDrawer",modelValue:o.showRightDrawerCom,"onUpdate:modelValue":t[0]||(t[0]=e=>o.showRightDrawerCom=e),"show-if-above":"",width:300,side:"right"},{default:(0,a.w5)((()=>[(0,a._)("div",be,[(0,a.Wm)(i,{round:"","text-color":"grey-7",elevated:"",icon:"chevron_right",onClick:o.shRightDrawer,style:{"z-index":"1"},class:"float-button"},null,8,["onClick"])]),(0,a.Wm)(d,{id:"edit",ref:"editPanel",style:{height:"calc(100% - 270px)"}},null,512),(0,a.Wm)(r,{id:"minimap"})])),_:1},8,["modelValue"]),(0,a._)("div",_e,[(0,a.Wm)(i,{round:"","text-color":"grey-7",elevated:"",icon:"chevron_left",onClick:o.shRightDrawer,style:{"z-index":"1","margin-top":"25px"},class:"float-button"},null,8,["onClick"])])])}const xe=(0,a._)("div",{id:"titleBar"},"导航器",-1),Ce=(0,a._)("div",{id:"minimapContainer"},null,-1),We=[xe,Ce];function qe(e,t,l,o,s,n){return(0,a.wg)(),(0,a.iD)("div",null,We)}const De={},ze=(0,V.Z)(De,[["render",qe]]),Ue=ze;var Te=l(8880);const Ne=(0,a._)("div",{id:"titleBar"},"编辑",-1),Se={key:0,class:"q-gutter-md q-pl-md q-pr-md q-pt-md"},Ze=(0,a._)("div",{class:"inputTitle row"},[(0,a._)("div",{class:"col-6"},"x"),(0,a._)("div",{class:"col-6 q-pl-sm"},"y")],-1),Ve={class:"row q-mt-xs"},Fe={class:"col-6 q-pr-xs"},Me={class:"col-6 q-pl-xs"},Le=(0,a._)("div",{class:"inputTitle q-mt-sm"},"externalId",-1),Re=(0,a._)("div",{class:"inputTitle q-mt-sm"},"cpuCores",-1),He=(0,a._)("div",{class:"inputTitle q-mt-sm"},"appUseCase",-1),Ie=(0,a._)("div",{class:"inputTitle q-mt-sm"},"name",-1),Qe=(0,a._)("div",{class:"inputTitle q-mt-sm"},"status",-1),je={class:"select-text"},Be={key:1,class:"q-gutter-md q-pl-md q-pr-md q-pt-md"},Ee=(0,a._)("div",{class:"inputTitle q-mt-sm"},"source",-1),Oe=(0,a._)("div",{class:"inputTitle q-mt-sm"},"target",-1),Ae=(0,a._)("div",{class:"inputTitle q-mt-sm"},"fileDependencies",-1),Je=(0,a.Uk)("targetAppFile"),Pe=(0,a.Uk)("dependencyAppFile"),$e=(0,a.Uk)("dependencyType"),Ge=(0,a.Uk)("+ 添加文件"),Xe={key:2,class:"q-gutter-md q-pl-md q-pr-md q-pt-md"},Ke=(0,a._)("div",{class:"inputTitle row"},[(0,a._)("div",{class:"col-6"},"x"),(0,a._)("div",{class:"col-6 q-pl-sm"},"y")],-1),Ye={class:"row q-mt-xs"},et={class:"col-6 q-pr-xs"},tt={class:"col-6 q-pl-xs"},lt=(0,a._)("div",{class:"inputTitle q-mt-sm"},"externalId",-1),at=(0,a._)("div",{class:"inputTitle q-mt-sm"},"cpuCores",-1),ot=(0,a._)("div",{class:"inputTitle q-mt-sm"},"appUseCase",-1),st=(0,a._)("div",{class:"inputTitle q-mt-sm"},"name",-1),nt=(0,a._)("div",{class:"inputTitle q-mt-sm"},"status",-1);function it(e,t,l,o,s,n){const i=(0,a.up)("q-input"),d=(0,a.up)("q-item-label"),r=(0,a.up)("q-item-section"),c=(0,a.up)("q-icon"),u=(0,a.up)("q-item"),p=(0,a.up)("q-select"),m=(0,a.up)("q-btn"),f=(0,a.up)("q-list"),w=(0,a.up)("q-scroll-area"),g=(0,a.Q2)("ripple");return(0,a.wg)(),(0,a.iD)("div",null,[Ne,(0,a.Wm)(w,{style:{height:"100%"}},{default:(0,a.w5)((()=>["node"==o.clickType?((0,a.wg)(),(0,a.iD)("div",Se,[Ze,(0,a._)("div",Ve,[(0,a._)("div",Fe,[(0,a.Wm)(i,{dense:"",outlined:"",modelValue:o.clickNode.x,"onUpdate:modelValue":t[0]||(t[0]=e=>o.clickNode.x=e),readonly:""},null,8,["modelValue"])]),(0,a._)("div",Me,[(0,a.Wm)(i,{dense:"",outlined:"",modelValue:o.clickNode.y,"onUpdate:modelValue":t[1]||(t[1]=e=>o.clickNode.y=e),readonly:""},null,8,["modelValue"])])]),Le,(0,a.Wm)(i,{dense:"",outlined:"",modelValue:o.clickNode.id,"onUpdate:modelValue":t[2]||(t[2]=e=>o.clickNode.id=e),class:"q-mt-xs",readonly:""},null,8,["modelValue"]),Re,(0,a.Wm)(i,{dense:"",outlined:"",modelValue:o.clickNode.cpuCores,"onUpdate:modelValue":t[3]||(t[3]=e=>o.clickNode.cpuCores=e),class:"q-mt-xs"},null,8,["modelValue"]),He,(0,a.Wm)(i,{dense:"",outlined:"",modelValue:o.clickNode.appUseCase,"onUpdate:modelValue":t[4]||(t[4]=e=>o.clickNode.appUseCase=e),class:"q-mt-xs"},null,8,["modelValue"]),Ie,(0,a.Wm)(i,{dense:"",outlined:"",modelValue:o.clickNode.name,"onUpdate:modelValue":t[5]||(t[5]=e=>o.clickNode.name=e),class:"q-mt-xs"},null,8,["modelValue"]),Qe,(0,a.Wm)(p,{dense:"",outlined:"",modelValue:o.clickNode.status,"onUpdate:modelValue":t[6]||(t[6]=e=>o.clickNode.status=e),options:["default","success","error","warning","running"],class:"q-mt-xs"},{selected:(0,a.w5)((()=>[(0,a._)("div",je,(0,b.zw)(o.clickNode.status),1)])),option:(0,a.w5)((e=>[(0,a.Wm)(u,(0,a.dG)(e.itemProps,(0,a.mx)(e.itemEvents)),{default:(0,a.w5)((()=>[(0,a.Wm)(r,null,{default:(0,a.w5)((()=>[(0,a.Wm)(d,{innerHTML:e.opt},null,8,["innerHTML"])])),_:2},1024),(0,a.Wm)(r,{avatar:""},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(c,{name:"task",style:{color:"#666","font-size":"20px"}},null,512),[[Te.F8,"default"===e.opt]]),(0,a.wy)((0,a.Wm)(c,{name:"check_circle_outline",style:{color:"green","font-size":"20px"}},null,512),[[Te.F8,"success"===e.opt]]),(0,a.wy)((0,a.Wm)(c,{name:"cancel",style:{color:"red","font-size":"20px"}},null,512),[[Te.F8,"error"===e.opt]]),(0,a.wy)((0,a.Wm)(c,{name:"error_outline",style:{color:"orange","font-size":"20px"}},null,512),[[Te.F8,"warning"===e.opt]]),(0,a.wy)((0,a.Wm)(c,{name:"directions_run",style:{color:"blue","font-size":"20px"}},null,512),[[Te.F8,"running"===e.opt]])])),_:2},1024)])),_:2},1040)])),_:1},8,["modelValue"]),(0,a._)("div",null,[(0,a.Wm)(m,{label:"保存",color:"primary",class:"q-mb-md",onClick:t[7]||(t[7]=e=>o.saveNode())})])])):(0,a.kq)("",!0),"edge"==o.clickType?((0,a.wg)(),(0,a.iD)("div",Be,[Ee,(0,a.Wm)(i,{dense:"",outlined:"",modelValue:o.clickEdge.source.cell,"onUpdate:modelValue":t[8]||(t[8]=e=>o.clickEdge.source.cell=e),class:"q-mt-xs",readonly:""},null,8,["modelValue"]),Oe,(0,a.Wm)(i,{dense:"",outlined:"",modelValue:o.clickEdge.target.cell,"onUpdate:modelValue":t[9]||(t[9]=e=>o.clickEdge.target.cell=e),class:"q-mt-xs",readonly:""},null,8,["modelValue"]),Ae,(0,a.Wm)(f,{outlined:"",separator:"",class:"rounded-borders q-mt-xs",style:{border:"1px solid #e0e0e0"}},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.clickEdge.store.data.fileDependencies,(e=>((0,a.wg)(),(0,a.j4)(u,{key:e},{default:(0,a.w5)((()=>[(0,a.Wm)(r,null,{default:(0,a.w5)((()=>[(0,a.Wm)(d,{caption:""},{default:(0,a.w5)((()=>[Je])),_:1}),(0,a.Wm)(d,{class:"q-pb-xs"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,b.zw)(e.targetAppFile),1)])),_:2},1024),(0,a.Wm)(d,{caption:""},{default:(0,a.w5)((()=>[Pe])),_:1}),(0,a.Wm)(d,{class:"q-pb-xs"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,b.zw)(e.dependencyAppFile),1)])),_:2},1024),(0,a.Wm)(d,{caption:""},{default:(0,a.w5)((()=>[$e])),_:1}),(0,a.Wm)(d,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,b.zw)(e.dependencyType),1)])),_:2},1024)])),_:2},1024),(0,a.Wm)(r,{top:"",side:""},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{size:"12px",flat:"",round:"",icon:"delete"})])),_:1})])),_:2},1024)))),128)),(0,a.wy)(((0,a.wg)(),(0,a.j4)(u,{clickable:""},{default:(0,a.w5)((()=>[(0,a.Wm)(r,null,{default:(0,a.w5)((()=>[(0,a.Wm)(d,{caption:""},{default:(0,a.w5)((()=>[Ge])),_:1})])),_:1})])),_:1})),[[g]])])),_:1}),(0,a._)("div",null,[(0,a.Wm)(m,{label:"保存",color:"primary",class:"q-mb-md"})])])):(0,a.kq)("",!0),"node"!=o.clickType&&"edge"!=o.clickType?((0,a.wg)(),(0,a.iD)("div",Xe,[Ke,(0,a._)("div",Ye,[(0,a._)("div",et,[(0,a.Wm)(i,{dense:"",outlined:"",disable:""})]),(0,a._)("div",tt,[(0,a.Wm)(i,{dense:"",outlined:"",disable:""})])]),lt,(0,a.Wm)(i,{dense:"",outlined:"",disable:"",class:"q-mt-xs"}),at,(0,a.Wm)(i,{dense:"",outlined:"",disable:"",class:"q-mt-xs"}),ot,(0,a.Wm)(i,{dense:"",outlined:"",disable:"",class:"q-mt-xs"}),st,(0,a.Wm)(i,{dense:"",outlined:"",disable:"",class:"q-mt-xs"}),nt,(0,a.Wm)(p,{dense:"",outlined:"",disable:"",class:"q-mt-xs"}),(0,a._)("div",null,[(0,a.Wm)(m,{label:"保存",color:"primary",class:"q-mb-md",disabled:""})])])):(0,a.kq)("",!0)])),_:1})])}const dt={setup(){const e=(0,k.iH)(),t=(0,k.iH)(),l=(0,k.iH)(),a=(0,k.iH)("");function o(){const l={name:e.value.name,cpuCores:e.value.cpuCores,appUseCase:e.value.appUseCase,status:e.value.status};t.value.setData(l),t.value.store.data.position.x=e.value.x,t.value.store.data.position.y=e.value.y}const s=l=>{a.value="node",t.value=l;const o=t.value.getData(),s={id:t.value.id,cpuCores:o.cpuCores,appUseCase:o.appUseCase,name:o.name,status:o.status,x:t.value.store.data.position.x,y:t.value.store.data.position.y};e.value=s},n=l=>{t.value=l,e.value&&(e.value.x=t.value.store.data.position.x,e.value.y=t.value.store.data.position.y)},i=e=>{a.value="edge",l.value=e};return{clickType:a,clickNode:e,clickEdge:l,saveNode:o,nodeClickResponse:s,nodeMouseMoveResponse:n,edgeClickResponse:i}}};var rt=l(7704),ct=l(1935),ut=l(3414),pt=l(8149),mt=l(2350),ft=l(7011),wt=l(6489);const gt=(0,V.Z)(dt,[["render",it]]),ht=gt;H()(dt,"components",{QScrollArea:rt.Z,QInput:we.Z,QSelect:ct.Z,QItem:ut.Z,QItemSection:pt.Z,QItemLabel:mt.Z,QIcon:ge.Z,QBtn:F.Z,QList:ft.Z,QSeparator:L.Z}),H()(dt,"directives",{Ripple:wt.Z});const vt={components:{MiniMap:Ue,EditPanel:ht},props:{showRightDrawer:{type:Boolean}},setup(e){const t=(0,a.FN)(),l=(0,k.iH)(),o=(0,a.Fl)((()=>e.showRightDrawer)),s=()=>{t.parent.ctx.shRightDrawer()},n=e=>{l.value.nodeClickResponse(e)},i=e=>{l.value.nodeMouseMoveResponse(e)},d=e=>{l.value.edgeClickResponse(e)};return{shRightDrawer:s,showRightDrawerCom:o,editPanel:l,nodeClickResponse:n,nodeMouseMoveResponse:i,edgeClickResponse:d}}},kt=(0,V.Z)(vt,[["render",ye]]),bt=kt;H()(vt,"components",{QDrawer:fe.Z,QBtn:F.Z});l(3082);const _t=e=>((0,a.dD)("data-v-51ad37f2"),e=e(),(0,a.Cn)(),e),yt={class:"default-node tooltip"},xt={class:"center"},Ct={class:"right-side"},Wt={key:0,t:"1642577117055",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7504",width:"16",height:"16"},qt=_t((()=>(0,a._)("path",{d:"M721.066667 307.2l-328.533334 328.533333-85.333333-149.333333c-8.533333-17.066667-29.866667-25.6-46.933333-17.066667-17.066667 8.533333-21.333333 29.866667-12.8 51.2l106.666666 192c8.533333 12.8 17.066667 17.066667 29.866667 17.066667 4.266667 0 12.8 0 17.066667-4.266667 4.266667 0 4.266667-4.266667 8.533333-8.533333L768 354.133333c12.8-12.8 12.8-38.4 0-51.2-8.533333-12.8-34.133333-12.8-46.933333 4.266667zM512 0C230.4 0 0 230.4 0 512s230.4 512 512 512 512-230.4 512-512S793.6 0 512 0z m311.466667 823.466667c-38.4 38.4-89.6 72.533333-140.8 93.866666-55.466667 21.333333-110.933333 34.133333-170.666667 34.133334s-115.2-12.8-170.666667-34.133334c-51.2-21.333333-98.133333-55.466667-140.8-93.866666-38.4-42.666667-72.533333-89.6-93.866666-140.8-21.333333-55.466667-34.133333-110.933333-34.133334-170.666667s12.8-115.2 34.133334-170.666667C128 290.133333 162.133333 243.2 200.533333 200.533333 243.2 162.133333 290.133333 128 341.333333 106.666667c55.466667-21.333333 110.933333-34.133333 170.666667-34.133334s115.2 12.8 170.666667 34.133334c51.2 21.333333 98.133333 55.466667 140.8 93.866666 38.4 42.666667 72.533333 89.6 93.866666 140.8 21.333333 55.466667 34.133333 110.933333 34.133334 170.666667s-12.8 115.2-34.133334 170.666667c-21.333333 51.2-55.466667 98.133333-93.866666 140.8z",fill:"#52c41a","p-id":"7505"},null,-1))),Dt=[qt],zt={key:1,t:"1642577153841",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"8433",width:"16",height:"16"},Ut=_t((()=>(0,a._)("path",{d:"M512 0C229.376 0 0 229.376 0 512s229.376 512 512 512 512-229.376 512-512S794.624 0 512 0z m218.624 672.256c15.872 15.872 15.872 41.984 0 57.856-8.192 8.192-18.432 11.776-29.184 11.776s-20.992-4.096-29.184-11.776L512 569.856l-160.256 160.256c-8.192 8.192-18.432 11.776-29.184 11.776s-20.992-4.096-29.184-11.776c-15.872-15.872-15.872-41.984 0-57.856L454.144 512 293.376 351.744c-15.872-15.872-15.872-41.984 0-57.856 15.872-15.872 41.984-15.872 57.856 0L512 454.144l160.256-160.256c15.872-15.872 41.984-15.872 57.856 0 15.872 15.872 15.872 41.984 0 57.856L569.856 512l160.768 160.256z",fill:"#ff0000","p-id":"8434"},null,-1))),Tt=[Ut],Nt={key:2,t:"1642641127756",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2299",width:"17",height:"17"},St=_t((()=>(0,a._)("path",{d:"M512 42.666667a469.333333 469.333333 0 1 0 469.333333 469.333333A469.333333 469.333333 0 0 0 512 42.666667z m0 864a394.666667 394.666667 0 1 1 394.666667-394.666667 395.146667 395.146667 0 0 1-394.666667 394.666667z","p-id":"2300",fill:"#ffa500"},null,-1))),Zt=_t((()=>(0,a._)("path",{d:"M474.666667 695.52m5.333333 0l64 0q5.333333 0 5.333333 5.333333l0 64q0 5.333333-5.333333 5.333334l-64 0q-5.333333 0-5.333333-5.333334l0-64q0-5.333333 5.333333-5.333333Z","p-id":"2301",fill:"#ffa500"},null,-1))),Vt=_t((()=>(0,a._)("path",{d:"M474.666667 253.813333m5.333333 0l64 0q5.333333 0 5.333333 5.333334l0 362.666666q0 5.333333-5.333333 5.333334l-64 0q-5.333333 0-5.333333-5.333334l0-362.666666q0-5.333333 5.333333-5.333334Z","p-id":"2302",fill:"#ffa500"},null,-1))),Ft=[St,Zt,Vt],Mt={key:3,t:"1642577381109",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"13110",width:"16",height:"16"},Lt=_t((()=>(0,a._)("path",{d:"M640 192c53.02 0 96-42.98 96-96S693.02 0 640 0s-96 42.98-96 96 42.98 96 96 96zM323.38 634.94l-29.6 69.04H160c-35.34 0-64 28.66-64 64s28.66 64 64 64h154.9c38.5 0 73.16-22.88 88.22-58.18l17.58-41.04-21.34-12.6c-34.64-20.46-60.12-50.74-75.98-85.22zM864 447.98h-88.06l-52.12-106.5c-25-51.1-70.9-88.46-123.56-101.88l-142.16-42.28c-56.6-13.6-115.54-1.1-161.68 34.28l-79.34 60.82c-28.06 21.5-33.38 61.66-11.84 89.72s61.68 33.32 89.72 11.84l79.38-60.82c15.34-11.78 34.88-16 50.54-12.28l29.4 8.74-74.92 174.78c-25.24 58.96-2.62 128.02 52.6 160.62l169.96 100.34-54.94 175.46c-10.56 33.72 8.22 69.62 41.94 80.18 6.38 2 12.82 2.96 19.16 2.96 27.22 0 52.46-17.54 61.04-44.9l63.28-202.12c11.82-41.54-5.78-86.16-43.28-108.78l-122.48-72.28 62.62-156.56 40.54 82.86c16 32.68 49.84 53.78 86.22 53.78H864c35.34 0 64-28.66 64-64s-28.66-63.98-64-63.98z","p-id":"13111",fill:"#0000ff"},null,-1))),Rt=[Lt],Ht={key:4,t:"1642577466654",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"14516",width:"16",height:"16"},It=_t((()=>(0,a._)("path",{d:"M682.666667 0v256h256l-256-256z m-85.333334 0H170.666667a85.333333 85.333333 0 0 0-85.333334 85.333333v853.333334a85.333333 85.333333 0 0 0 85.333334 85.333333h682.666666a85.333333 85.333333 0 0 0 85.333334-85.333333V341.333333h-341.333334V0z m7.168 514.517333a42.666667 42.666667 0 1 1 70.997334 47.36L481.152 853.333333l-163.498667-109.013333a42.666667 42.666667 0 1 1 47.36-70.997333l92.501334 61.653333 146.986666-220.458667z","p-id":"14517",fill:"#666666"},null,-1))),Qt=[It];function jt(e,t,l,o,s,n){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",yt,[(0,a._)("div",xt,(0,b.zw)(o.data.name),1),(0,a._)("div",Ct,["success"===o.data.status?((0,a.wg)(),(0,a.iD)("svg",Wt,Dt)):"error"===o.data.status?((0,a.wg)(),(0,a.iD)("svg",zt,Tt)):"warning"===o.data.status?((0,a.wg)(),(0,a.iD)("svg",Nt,Ft)):"running"===o.data.status?((0,a.wg)(),(0,a.iD)("svg",Mt,Rt)):((0,a.wg)(),(0,a.iD)("svg",Ht,Qt))])])])}const Bt={setup(){const e=(0,a.f3)("getNode"),t=e(),l=(0,k.iH)({name:"",status:""}),o=e=>{console.log(e)};return(0,a.bv)((()=>{l.value=t.getData(),t.on("change:data",(({current:e})=>{l.value=e}))})),{data:l,contextMenu:o}}},Et=(0,V.Z)(Bt,[["render",jt],["__scopeId","data-v-51ad37f2"]]),Ot=Et,{Dnd:At}=h.e9,Jt=(0,a.aZ)({components:{ToolBar:Q,LeftDrawer:ke,RightDrawer:bt},setup(){const e=(0,v.Z)();let t;const l=(0,k.iH)({}),o=(0,k.iH)(""),s=(0,k.iH)(""),n=(0,k.iH)(),i=(0,k.iH)(100);let d=(0,k.iH)(!0),r=(0,k.iH)(!0),c=!0;const u={line:{stroke:"#c2c8d5",strokeWidth:1.5,targetMarker:{name:"classic",width:8,height:8}}},p={groups:{top:{position:"top",attrs:{circle:{r:4,magnet:!0,stroke:"#c2c8d5",strokeWidth:1.5,fill:"#fff"}}},bottom:{position:"bottom",attrs:{circle:{r:4,magnet:!0,stroke:"#c2c8d5",strokeWidth:1.5,fill:"#fff"}}}},items:[{group:"top"},{group:"bottom"}]};let m={nodes:[{id:"fe94ef60-b536-22bb-61fd-6b3a2222be17",shape:"default-node",data:{name:"Simulate1脚本",cpuCores:"2",appUseCase:"ab08ad37-055b-b368-58aa-037620228cf8",status:"default"},ports:Object.assign({},p)},{id:"4557647d-19bc-b1d7-5aec-4963dfe83b28",shape:"default-node",data:{name:"Simulate2脚本",cpuCores:"1",appUseCase:"f30223f0-a215-4402-38ba-067a917b095d",status:"default"},ports:Object.assign({},p)},{id:"35344a12-c8d7-1e2c-704f-b10a9b56e2c6",shape:"default-node",data:{name:"Simulate3脚本",cpuCores:"2",appUseCase:"c0121580-1097-418f-14be-170e474fb8d3",status:"default"},ports:Object.assign({},p)},{id:"8c6f878b-ffa0-e51b-93d2-0e65344d7f56",shape:"default-node",data:{name:"Simulate4脚本",cpuCores:"2",appUseCase:"f4f1357b-1bfc-6797-5030-b9822d910e73",status:"default"},ports:Object.assign({},p)},{id:"ba2f49b7-912e-de79-50a3-8e6d4083f681",shape:"default-node",data:{name:"Simulate5脚本",cpuCores:"1",appUseCase:"1d6913e0-32bd-4563-a073-4900579da937",status:"default"},ports:Object.assign({},p)},{id:"7a65b4d8-12bd-bd09-170c-cf37cc0a568a",shape:"default-node",data:{name:"Simulate6脚本",cpuCores:"2",appUseCase:"81abf716-a0f8-f064-cabe-6e4e44442825",status:"default"},ports:Object.assign({},p)}],edges:[{source:"fe94ef60-b536-22bb-61fd-6b3a2222be17",target:"4557647d-19bc-b1d7-5aec-4963dfe83b28",fileDependencies:[{targetAppFile:"0a9c2cb6-3dc7-9a00-55f1-33f2e31f5561",dependencyAppFile:"2ae998c2-7a33-65a4-a9b1-07a101ec695c",dependencyType:"appFile"},{targetAppFile:"d499e05c-a1a1-f365-184a-06f64438d81f",dependencyAppFile:"f055da12-e175-3f38-c2df-4a589ddc5db9",dependencyType:"appFile"}],attrs:u,zIndex:-1},{source:"fe94ef60-b536-22bb-61fd-6b3a2222be17",target:"35344a12-c8d7-1e2c-704f-b10a9b56e2c6",fileDependencies:[{targetAppFile:"b098bf40-eb8c-30d8-ef16-8f21ab41b248",dependencyAppFile:"1191f899-eaad-b87c-8936-5cf96d72d1c4",dependencyType:"appFile"}],attrs:u,zIndex:-1},{source:"4557647d-19bc-b1d7-5aec-4963dfe83b28",target:"8c6f878b-ffa0-e51b-93d2-0e65344d7f56",fileDependencies:[{targetAppFile:"56c90586-a686-5330-0b16-72a231212171",dependencyAppFile:"56984e29-f833-adae-9253-882e255d2e3b",dependencyType:"appFile"}],attrs:u,zIndex:-1},{source:"4557647d-19bc-b1d7-5aec-4963dfe83b28",target:"ba2f49b7-912e-de79-50a3-8e6d4083f681",attrs:u,zIndex:-1},{source:"35344a12-c8d7-1e2c-704f-b10a9b56e2c6",target:"7a65b4d8-12bd-bd09-170c-cf37cc0a568a",attrs:u,zIndex:-1}]};const f=()=>{t.undo()},w=()=>{t.redo()},b=()=>{i.value<=280&&(t.zoom(.2),setTimeout((()=>{i.value=Number((100*t.zoom()).toFixed(0))}),50))},_=()=>{i.value>=70&&(t.zoom(-.2),setTimeout((()=>{i.value=Number((100*t.zoom()).toFixed(0))}),50))},y=()=>{t.centerContent()},x=()=>{t.removeNode(o.value)},C=()=>{t.removeEdge(o.value)},W=()=>{t.clearCells()},q=()=>{e.dialog({options:{type:"radio",model:"opt1",items:[{label:"使用本地参数文件",value:"opt1",color:"secondary"},{label:"在线配置参数",value:"opt2"}]},persistent:!0,ok:"继续",cancel:"取消"}).onOk((t=>{e.notify({message:"选择了 "+t,color:"primary"})}))},D=()=>{e.dialog({title:"节点数据信息",message:"<pre>"+JSON.stringify(m.nodes.find((e=>e.id==o.value)),null,"\t")+"</pre>",html:!0,ok:!1,style:"height: 500px; width: 560px"}),m.nodes.find((e=>e.id==o.value))},z=()=>{e.dialog({title:"流程数据信息",message:"<pre>"+JSON.stringify(t.toJSON(),null,"\t")+"</pre>",html:!0,ok:!1,style:"height: 500px; width: 560px"})},U=()=>{e.dialog({title:"提示",message:"确定要下载该流程数据吗？",ok:"确定",cancel:"取消",persistent:!0}).onOk((()=>{const l="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(t.toJSON(),null,"\t")),a=document.createElement("a");a.setAttribute("href",l),a.setAttribute("download","data.json"),a.click(),a.remove(),e.notify({message:"正在下载中,请稍后...",color:"primary"})}))},T=()=>{!0===c?t.hideGrid():t.showGrid(),c=!c},N=()=>{d.value=!d.value,!0===d.value&&!0===r.value?t.resize(window.innerWidth-600,window.innerHeight-52):!0===d.value&&!1===r.value||!1===d.value&&!0===r.value?t.resize(window.innerWidth-300,window.innerHeight-52):t.resize(window.innerWidth,window.innerHeight-52)};function S(){r.value=!r.value,!0===d.value&&!0===r.value?t.resize(window.innerWidth-600,window.innerHeight-52):!0===d.value&&!1===r.value||!1===d.value&&!0===r.value?t.resize(window.innerWidth-300,window.innerHeight-52):t.resize(window.innerWidth,window.innerHeight-52)}const Z=(e,a)=>{const o=t.createNode(a.node);l.value.start(o,e)},V=()=>{h.kJ.registerNode("default-node",{inherit:"vue3-shape",width:200,height:36,component:Ot},!0),h.kJ.registerNode("default",{inherit:"rect",width:180,height:36,attrs:{body:{rx:5,ry:5,strokeWidth:0,fill:"#fff",stroke:"#c2c8d5",filter:{name:"dropShadow",args:{dx:0,dy:1,blur:3,opacity:.24}}},label:{fill:"#666",fontSize:14,textWrap:{width:-12,height:"50%",ellipsis:!0,breakWord:!0}}}},!0),h.kJ.registerNode("success",{inherit:"rect",width:180,height:36,attrs:{body:{rx:5,ry:5,strokeWidth:0,fill:"green",stroke:"#c2c8d5",filter:{name:"dropShadow",args:{dx:0,dy:1,blur:3,opacity:.24}}},label:{fill:"white",fontSize:14,textWrap:{width:-12,height:"50%",ellipsis:!0,breakWord:!0}}}},!0),h.kJ.registerNode("error",{inherit:"rect",width:180,height:36,attrs:{body:{rx:5,ry:5,strokeWidth:0,fill:"red",stroke:"#c2c8d5",filter:{name:"dropShadow",args:{dx:0,dy:1,blur:3,opacity:.24}}},label:{fill:"white",fontSize:14,textWrap:{width:-12,height:"50%",ellipsis:!0,breakWord:!0}}}},!0),h.kJ.registerNode("warning",{inherit:"rect",width:180,height:36,attrs:{body:{rx:5,ry:5,strokeWidth:0,fill:"orange",stroke:"#c2c8d5",filter:{name:"dropShadow",args:{dx:0,dy:1,blur:3,opacity:.24}}},label:{fill:"white",fontSize:14,textWrap:{width:-12,height:"50%",ellipsis:!0,breakWord:!0}}}},!0),h.kJ.registerNode("running",{inherit:"rect",width:180,height:36,attrs:{body:{rx:5,ry:5,strokeWidth:0,fill:"blue",stroke:"#c2c8d5",filter:{name:"dropShadow",args:{dx:0,dy:1,blur:3,opacity:.24}}},label:{fill:"white",fontSize:14,textWrap:{width:-12,height:"50%",ellipsis:!0,breakWord:!0}}}},!0),h.kJ.registerConnector("pai",((e,t)=>{const l=4,a=80,o={x:e.x,y:e.y+l+a},s={x:t.x,y:t.y-l-a};return`M ${e.x} ${e.y}\n          L ${e.x} ${e.y+l}\n          C ${o.x} ${o.y} ${s.x} ${s.y} ${t.x} ${t.y-l}\n          L ${t.x} ${t.y}\n          `}),!0)};function F(){const e=new g.Vq({type:"dagre",ranksep:40,nodesep:60,controlPoints:!0});e.layout(m);const l={name:"stroke"};t=new h.kJ({container:document.getElementById("container"),autoResize:!0,minimap:{enabled:!0,container:document.getElementById("minimapContainer")},height:window.innerHeight-51,background:{color:"#f7f7fa"},grid:{size:10,visible:c,type:"dot",args:{color:"#a0a0a0",thickness:1}},snapline:!0,panning:!0,keyboard:!1,mousewheel:{enabled:!0,zoomAtMousePosition:!0,modifiers:"ctrl",minScale:.5,maxScale:3},history:{enabled:!0,ignoreChange:!0},selecting:{enabled:!0,multiple:!1,rubberEdge:!0,showNodeSelectionBox:!0,showEdgeSelectionBox:!0},connecting:{allowPort:!0,allowEdge:!1,allowNode:!1,allowLoop:!1,allowMulti:!1,allowBlank:!1,highlight:!0,snap:{radius:20},router:{name:"er",args:{offset:"center"}},connector:{name:"rounded",args:{radius:30}},anchor:"center",connectionPoint:{name:"bbox"},createEdge(){return new h.bn.kS({attrs:u,zIndex:-1})},validateConnection({targetMagnet:e,sourceCell:l,targetCell:a}){const o=t.toJSON().cells.find((e=>{if("edge"===e.shape&&e.target.cell===l.id&&e.source.cell===a.id)return!0}));return!o&&!!e}},highlighting:{magnetAvailable:l,magnetAdsorbed:{name:"stroke",args:{attrs:{fill:"#fff",stroke:"#31d0c6"}}}}}).fromJSON(m)}const M=()=>{l.value=new At({target:t,validateNode(){return!0}})};function L(){t.on("node:contextmenu",(({node:e})=>{s.value="node",o.value=e.id})),t.on("edge:contextmenu",(({edge:e})=>{s.value="edge",o.value=e.id})),t.on("blank:contextmenu",(()=>{s.value="blank",o.value=""})),t.on("cell:mousewheel",(()=>{setTimeout((()=>{i.value=Number((100*t.zoom()).toFixed(0))}),50)})),t.on("blank:mousewheel",(()=>{setTimeout((()=>{i.value=Number((100*t.zoom()).toFixed(0))}),50)})),t.on("node:click",(({node:e})=>{n.value.nodeClickResponse(e),console.log("node",e)})),t.on("node:mousemove",(({node:e})=>{n.value.nodeMouseMoveResponse(e)})),t.on("edge:click",(({edge:e})=>{n.value.edgeClickResponse(e),console.log("edge",e)}))}const R=(e,l)=>{const a=t.getNodes()[e];let o=a.getData();a.setData({name:o.name,status:l})},H=()=>{R(0,"running"),R(1,"default"),R(2,"default"),R(3,"default"),R(4,"default"),R(5,"default"),setTimeout((()=>{R(0,"success"),R(1,"running"),R(2,"running"),setTimeout((()=>{R(1,"success"),R(2,"success"),R(3,"running"),R(4,"running"),R(5,"running"),setTimeout((()=>{R(3,"success"),setTimeout((()=>{R(4,"warning"),setTimeout((()=>{R(5,"error")}),1e3)}),1e3)}),1e3)}),1e3)}),1e3)};return(0,a.bv)((()=>{V(),F(),M(),L(),y()})),{undo:f,redo:w,zoomIn:b,zoomOut:_,centerContent:y,choiceType:s,deleteNode:x,deleteEdge:C,refresh:W,nodeSetting:q,showNode:D,showData:z,downloadData:U,shGird:T,shLeftDrawer:N,shRightDrawer:S,showLeftDrawer:d,showRightDrawer:r,zoom:i,rightDrawer:n,startDrag:Z,runWorkFlow:H}}});var Pt=l(4379),$t=l(811),Gt=l(677);const Xt=(0,V.Z)(Jt,[["render",w],["__scopeId","data-v-55ada6ab"]]),Kt=Xt;H()(Jt,"components",{QPage:Pt.Z,QMenu:$t.Z,QList:ft.Z,QItem:ut.Z,QItemSection:pt.Z,QSeparator:L.Z,QIcon:ge.Z}),H()(Jt,"directives",{ClosePopup:Gt.Z});const Yt=(0,a.aZ)({name:"PageIndex",components:{X6Editor:Kt},setup(){return{}}}),el=(0,V.Z)(Yt,[["render",o]]),tl=el}}]);